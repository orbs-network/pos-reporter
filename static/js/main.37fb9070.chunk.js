(this.webpackJsonporbs=this.webpackJsonporbs||[]).push([[0],{1:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"n",(function(){return _})),n.d(t,"o",(function(){return R})),n.d(t,"g",(function(){return A})),n.d(t,"l",(function(){return C})),n.d(t,"i",(function(){return S})),n.d(t,"m",(function(){return B})),n.d(t,"j",(function(){return j})),n.d(t,"k",(function(){return D})),n.d(t,"h",(function(){return P})),n.d(t,"p",(function(){return W})),n.d(t,"u",(function(){return F})),n.d(t,"t",(function(){return E})),n.d(t,"r",(function(){return K})),n.d(t,"s",(function(){return he})),n.d(t,"c",(function(){return ke})),n.d(t,"q",(function(){return Te})),n.d(t,"d",(function(){return Oe})),n.d(t,"e",(function(){return Ae})),n.d(t,"f",(function(){return Ce}));var a,r,i=n(22),s=n.n(i),u=n(149),o=n.n(u),d=n(5),l=n.n(d),p=n(131),c=[{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"who",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],y=[{inputs:[{internalType:"address",name:"_proxyTo",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_new",type:"address"},{indexed:!1,internalType:"address",name:"_old",type:"address"}],name:"ProxyOwnerUpdate",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_new",type:"address"},{indexed:!0,internalType:"address",name:"_old",type:"address"}],name:"ProxyUpdated",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"implementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"proxyOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"proxyType",outputs:[{internalType:"uint256",name:"proxyTypeId",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferProxyOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newProxyTo",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"updateAndCall",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_newProxyTo",type:"address"}],name:"updateImplementation",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],m=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"stakeOwner",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalStakedAmount",type:"uint256"}],name:"MigratedStake",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"stakeOwner",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalStakedAmount",type:"uint256"}],name:"Restaked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"stakeOwner",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalStakedAmount",type:"uint256"}],name:"Staked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"stakeOwner",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalStakedAmount",type:"uint256"}],name:"Unstaked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"stakeOwner",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalStakedAmount",type:"uint256"}],name:"Withdrew",type:"event"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"stake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"unstake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"restake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_totalAmount",type:"uint256"},{internalType:"address[]",name:"_stakeOwners",type:"address[]"},{internalType:"uint256[]",name:"_amounts",type:"uint256[]"}],name:"distributeRewards",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_stakeOwner",type:"address"}],name:"getStakeBalanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTotalStakedTokens",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_stakeOwner",type:"address"}],name:"getUnstakeStatus",outputs:[{internalType:"uint256",name:"cooldownAmount",type:"uint256"},{internalType:"uint256",name:"cooldownEndTime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IMigratableStakingContract",name:"_newStakingContract",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"migrateStakedTokens",outputs:[],stateMutability:"nonpayable",type:"function"}],b=[{inputs:[{internalType:"contract IContractRegistry",name:"_contractRegistry",type:"address"},{internalType:"address",name:"_registryAdmin",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"addr",type:"address"}],name:"ContractRegistryAddressUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"Delegated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"addr",type:"address"},{indexed:!1,internalType:"uint256",name:"selfDelegatedStake",type:"uint256"},{indexed:!1,internalType:"uint256",name:"delegatedStake",type:"uint256"},{indexed:!0,internalType:"address",name:"delegator",type:"address"},{indexed:!1,internalType:"uint256",name:"delegatorContributedStake",type:"uint256"}],name:"DelegatedStakeChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"DelegationInitialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address[]",name:"from",type:"address[]"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"DelegationsImported",type:"event"},{anonymous:!1,inputs:[],name:"InitializationComplete",type:"event"},{anonymous:!1,inputs:[],name:"Locked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousRegistryAdmin",type:"address"},{indexed:!0,internalType:"address",name:"newRegistryAdmin",type:"address"}],name:"RegistryManagementTransferred",type:"event"},{anonymous:!1,inputs:[],name:"Unlocked",type:"event"},{inputs:[],name:"VOID_ADDR",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"claimRegistryManagement",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"delegate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getContractRegistry",outputs:[{internalType:"contract IContractRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"getDelegatedStake",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"getDelegation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"getDelegationInfo",outputs:[{internalType:"address",name:"delegation",type:"address"},{internalType:"uint256",name:"delegatorStake",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTotalDelegatedStake",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"from",type:"address[]"},{internalType:"address",name:"to",type:"address"}],name:"importDelegations",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"}],name:"initDelegation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"initializationAdmin",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"initializationComplete",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isInitializationComplete",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"isLocked",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"isRegistryAdmin",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"lock",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"locked",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingRegistryAdmin",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"refreshContracts",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"refreshStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"addrs",type:"address[]"}],name:"refreshStakeBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"registryAdmin",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceRegistryManagement",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IContractRegistry",name:"newContractRegistry",type:"address"}],name:"setContractRegistry",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_registryAdmin",type:"address"}],name:"setRegistryAdmin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_stakeOwner",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bool",name:"",type:"bool"},{internalType:"uint256",name:"_updatedStake",type:"uint256"}],name:"stakeChange",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"_stakeOwners",type:"address[]"},{internalType:"uint256[]",name:"_amounts",type:"uint256[]"},{internalType:"bool[]",name:"_signs",type:"bool[]"},{internalType:"uint256[]",name:"_updatedStakes",type:"uint256[]"}],name:"stakeChangeBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_stakeOwner",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"stakeMigration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"stakeOwnersData",outputs:[{internalType:"address",name:"delegation",type:"address"},{internalType:"uint96",name:"stake",type:"uint96"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newRegistryAdmin",type:"address"}],name:"transferRegistryManagement",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"uncappedDelegatedStake",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"unlock",outputs:[],stateMutability:"nonpayable",type:"function"}],f=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"guardian",type:"address"},{indexed:!1,internalType:"bool",name:"isRegistered",type:"bool"},{indexed:!1,internalType:"bytes4",name:"ip",type:"bytes4"},{indexed:!1,internalType:"address",name:"orbsAddr",type:"address"},{indexed:!1,internalType:"string",name:"name",type:"string"},{indexed:!1,internalType:"string",name:"website",type:"string"}],name:"GuardianDataUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"guardian",type:"address"},{indexed:!1,internalType:"string",name:"key",type:"string"},{indexed:!1,internalType:"string",name:"newValue",type:"string"},{indexed:!1,internalType:"string",name:"oldValue",type:"string"}],name:"GuardianMetadataChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"guardian",type:"address"}],name:"GuardianRegistered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"guardian",type:"address"}],name:"GuardianUnregistered",type:"event"},{inputs:[{internalType:"bytes4",name:"ip",type:"bytes4"},{internalType:"address",name:"orbsAddr",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"website",type:"string"}],name:"registerGuardian",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"ip",type:"bytes4"},{internalType:"address",name:"orbsAddr",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"website",type:"string"}],name:"updateGuardian",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"ip",type:"bytes4"}],name:"updateGuardianIp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"key",type:"string"},{internalType:"string",name:"value",type:"string"}],name:"setMetadata",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"guardian",type:"address"},{internalType:"string",name:"key",type:"string"}],name:"getMetadata",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"unregisterGuardian",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"guardian",type:"address"}],name:"getGuardianData",outputs:[{internalType:"bytes4",name:"ip",type:"bytes4"},{internalType:"address",name:"orbsAddr",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"website",type:"string"},{internalType:"uint256",name:"registrationTime",type:"uint256"},{internalType:"uint256",name:"lastUpdateTime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"guardianAddrs",type:"address[]"}],name:"getGuardiansOrbsAddress",outputs:[{internalType:"address[]",name:"orbsAddrs",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"guardian",type:"address"}],name:"getGuardianIp",outputs:[{internalType:"bytes4",name:"ip",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"guardian",type:"address[]"}],name:"getGuardianIps",outputs:[{internalType:"bytes4[]",name:"ips",type:"bytes4[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"guardian",type:"address"}],name:"isRegistered",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"orbsAddrs",type:"address[]"}],name:"getGuardianAddresses",outputs:[{internalType:"address[]",name:"guardianAddrs",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"guardianOrOrbsAddress",type:"address"}],name:"resolveGuardianAddress",outputs:[{internalType:"address",name:"guardianAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"guardiansToMigrate",type:"address[]"},{internalType:"contract IGuardiansRegistration",name:"previousContract",type:"address"}],name:"migrateGuardians",outputs:[],stateMutability:"nonpayable",type:"function"}],g=[{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"annualRateInPercentMille",type:"uint256"},{indexed:!1,internalType:"uint256",name:"annualCap",type:"uint256"}],name:"AnnualStakingRewardsRateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint32",name:"defaultDelegatorsStakingRewardsPercentMille",type:"uint32"}],name:"DefaultDelegatorsStakingRewardsChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"delegator",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalAwarded",type:"uint256"},{indexed:!1,internalType:"address",name:"guardian",type:"address"},{indexed:!1,internalType:"uint256",name:"delegatorRewardsPerToken",type:"uint256"},{indexed:!1,internalType:"uint256",name:"delegatorRewardsPerTokenDelta",type:"uint256"}],name:"DelegatorStakingRewardsAssigned",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"addr",type:"address"},{indexed:!1,internalType:"address",name:"token",type:"address"}],name:"EmergencyWithdrawal",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"guardian",type:"address"},{indexed:!1,internalType:"uint256",name:"delegatorsStakingRewardsPercentMille",type:"uint256"}],name:"GuardianDelegatorsStakingRewardsPercentMilleUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"guardian",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalAwarded",type:"uint256"},{indexed:!1,internalType:"uint256",name:"delegatorRewardsPerToken",type:"uint256"},{indexed:!1,internalType:"uint256",name:"delegatorRewardsPerTokenDelta",type:"uint256"},{indexed:!1,internalType:"uint256",name:"stakingRewardsPerWeight",type:"uint256"},{indexed:!1,internalType:"uint256",name:"stakingRewardsPerWeightDelta",type:"uint256"}],name:"GuardianStakingRewardsAssigned",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint32",name:"maxDelegatorsStakingRewardsPercentMille",type:"uint32"}],name:"MaxDelegatorsStakingRewardsChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"startTime",type:"uint256"}],name:"RewardDistributionActivated",type:"event"},{anonymous:!1,inputs:[],name:"RewardDistributionDeactivated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"allocatedRewards",type:"uint256"},{indexed:!1,internalType:"uint256",name:"stakingRewardsPerWeight",type:"uint256"}],name:"StakingRewardsAllocated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"addr",type:"address"},{indexed:!1,internalType:"uint256",name:"guardianStakingRewards",type:"uint256"},{indexed:!1,internalType:"uint256",name:"delegatorStakingRewards",type:"uint256"},{indexed:!1,internalType:"address",name:"toRewardsContract",type:"address"}],name:"StakingRewardsBalanceMigrated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"addr",type:"address"},{indexed:!1,internalType:"uint256",name:"guardianStakingRewards",type:"uint256"},{indexed:!1,internalType:"uint256",name:"delegatorStakingRewards",type:"uint256"}],name:"StakingRewardsBalanceMigrationAccepted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"addr",type:"address"},{indexed:!1,internalType:"uint256",name:"claimedDelegatorRewards",type:"uint256"},{indexed:!1,internalType:"uint256",name:"claimedGuardianRewards",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalClaimedDelegatorRewards",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalClaimedGuardianRewards",type:"uint256"}],name:"StakingRewardsClaimed",type:"event"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"getStakingRewardsBalance",outputs:[{internalType:"uint256",name:"delegatorStakingRewardsBalance",type:"uint256"},{internalType:"uint256",name:"guardianStakingRewardsBalance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"delegatorRewardsPercentMille",type:"uint32"}],name:"setGuardianDelegatorsStakingRewardsPercentMille",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"guardian",type:"address"}],name:"getGuardianDelegatorsStakingRewardsPercentMille",outputs:[{internalType:"uint256",name:"delegatorRewardsRatioPercentMille",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"claimStakingRewards",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getStakingRewardsWalletAllocatedTokens",outputs:[{internalType:"uint256",name:"allocated",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"guardian",type:"address"}],name:"getGuardianStakingRewardsData",outputs:[{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"claimed",type:"uint256"},{internalType:"uint256",name:"delegatorRewardsPerToken",type:"uint256"},{internalType:"uint256",name:"delegatorRewardsPerTokenDelta",type:"uint256"},{internalType:"uint256",name:"lastStakingRewardsPerWeight",type:"uint256"},{internalType:"uint256",name:"stakingRewardsPerWeightDelta",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"delegator",type:"address"}],name:"getDelegatorStakingRewardsData",outputs:[{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"claimed",type:"uint256"},{internalType:"address",name:"guardian",type:"address"},{internalType:"uint256",name:"lastDelegatorRewardsPerToken",type:"uint256"},{internalType:"uint256",name:"delegatorRewardsPerTokenDelta",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"},{internalType:"uint256",name:"duration",type:"uint256"}],name:"estimateFutureRewards",outputs:[{internalType:"uint256",name:"estimatedDelegatorStakingRewards",type:"uint256"},{internalType:"uint256",name:"estimatedGuardianStakingRewards",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getStakingRewardsState",outputs:[{internalType:"uint96",name:"stakingRewardsPerWeight",type:"uint96"},{internalType:"uint96",name:"unclaimedStakingRewards",type:"uint96"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentStakingRewardsRatePercentMille",outputs:[{internalType:"uint256",name:"annualRate",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"guardian",type:"address"},{internalType:"uint256",name:"weight",type:"uint256"},{internalType:"uint256",name:"totalCommitteeWeight",type:"uint256"},{internalType:"bool",name:"inCommittee",type:"bool"},{internalType:"bool",name:"inCommitteeAfter",type:"bool"}],name:"committeeMembershipWillChange",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"guardian",type:"address"},{internalType:"uint256",name:"delegatedStake",type:"uint256"},{internalType:"address",name:"delegator",type:"address"},{internalType:"uint256",name:"delegatorStake",type:"uint256"},{internalType:"address",name:"nextGuardian",type:"address"},{internalType:"uint256",name:"nextGuardianDelegatedStake",type:"uint256"}],name:"delegationWillChange",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"deactivateRewardDistribution",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"startTime",type:"uint256"}],name:"activateRewardDistribution",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint32",name:"defaultDelegatorsStakingRewardsPercentMille",type:"uint32"}],name:"setDefaultDelegatorsStakingRewardsPercentMille",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getDefaultDelegatorsStakingRewardsPercentMille",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"maxDelegatorsStakingRewardsPercentMille",type:"uint32"}],name:"setMaxDelegatorsStakingRewardsPercentMille",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getMaxDelegatorsStakingRewardsPercentMille",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"annualRateInPercentMille",type:"uint32"},{internalType:"uint96",name:"annualCap",type:"uint96"}],name:"setAnnualStakingRewardsRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAnnualStakingRewardsRatePercentMille",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAnnualStakingRewardsCap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"isRewardAllocationActive",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"getSettings",outputs:[{internalType:"uint256",name:"annualStakingRewardsCap",type:"uint256"},{internalType:"uint32",name:"annualStakingRewardsRatePercentMille",type:"uint32"},{internalType:"uint32",name:"defaultDelegatorsStakingRewardsPercentMille",type:"uint32"},{internalType:"uint32",name:"maxDelegatorsStakingRewardsPercentMille",type:"uint32"},{internalType:"bool",name:"rewardAllocationActive",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"migrateRewardsBalance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"},{internalType:"uint256",name:"guardianStakingRewards",type:"uint256"},{internalType:"uint256",name:"delegatorStakingRewards",type:"uint256"}],name:"acceptRewardsBalanceMigration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"emergencyWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],w=[{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"allocatedGeneralBootstrapRewards",type:"uint256"},{indexed:!1,internalType:"uint256",name:"generalBootstrapRewardsPerMember",type:"uint256"},{indexed:!1,internalType:"uint256",name:"allocatedCertifiedBootstrapRewards",type:"uint256"},{indexed:!1,internalType:"uint256",name:"certifiedBootstrapRewardsPerMember",type:"uint256"}],name:"BootstrapRewardsAllocated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"guardian",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalAwarded",type:"uint256"},{indexed:!1,internalType:"bool",name:"certification",type:"bool"},{indexed:!1,internalType:"uint256",name:"bootstrapPerMember",type:"uint256"}],name:"BootstrapRewardsAssigned",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"guardian",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalWithdrawn",type:"uint256"}],name:"BootstrapRewardsWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"certifiedCommitteeAnnualBootstrap",type:"uint256"}],name:"CertifiedCommitteeAnnualBootstrapChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"addr",type:"address"},{indexed:!1,internalType:"address",name:"token",type:"address"}],name:"EmergencyWithdrawal",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"allocatedGeneralFees",type:"uint256"},{indexed:!1,internalType:"uint256",name:"generalFeesPerMember",type:"uint256"},{indexed:!1,internalType:"uint256",name:"allocatedCertifiedFees",type:"uint256"},{indexed:!1,internalType:"uint256",name:"certifiedFeesPerMember",type:"uint256"}],name:"FeesAllocated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"guardian",type:"address"},{indexed:!1,internalType:"uint256",name:"fees",type:"uint256"},{indexed:!1,internalType:"uint256",name:"bootstrapRewards",type:"uint256"},{indexed:!1,internalType:"address",name:"toRewardsContract",type:"address"}],name:"FeesAndBootstrapRewardsBalanceMigrated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"guardian",type:"address"},{indexed:!1,internalType:"uint256",name:"fees",type:"uint256"},{indexed:!1,internalType:"uint256",name:"bootstrapRewards",type:"uint256"}],name:"FeesAndBootstrapRewardsBalanceMigrationAccepted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"guardian",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalAwarded",type:"uint256"},{indexed:!1,internalType:"bool",name:"certification",type:"bool"},{indexed:!1,internalType:"uint256",name:"feesPerMember",type:"uint256"}],name:"FeesAssigned",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"guardian",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalWithdrawn",type:"uint256"}],name:"FeesWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"generalCommitteeAnnualBootstrap",type:"uint256"}],name:"GeneralCommitteeAnnualBootstrapChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"startTime",type:"uint256"}],name:"RewardDistributionActivated",type:"event"},{anonymous:!1,inputs:[],name:"RewardDistributionDeactivated",type:"event"},{inputs:[{internalType:"address",name:"guardian",type:"address"},{internalType:"bool",name:"inCommittee",type:"bool"},{internalType:"bool",name:"isCertified",type:"bool"},{internalType:"bool",name:"nextCertification",type:"bool"},{internalType:"uint256",name:"generalCommitteeSize",type:"uint256"},{internalType:"uint256",name:"certifiedCommitteeSize",type:"uint256"}],name:"committeeMembershipWillChange",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"guardian",type:"address"}],name:"getFeesAndBootstrapBalance",outputs:[{internalType:"uint256",name:"feeBalance",type:"uint256"},{internalType:"uint256",name:"bootstrapBalance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"guardian",type:"address"},{internalType:"uint256",name:"duration",type:"uint256"}],name:"estimateFutureFeesAndBootstrapRewards",outputs:[{internalType:"uint256",name:"estimatedFees",type:"uint256"},{internalType:"uint256",name:"estimatedBootstrapRewards",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"guardian",type:"address"}],name:"withdrawFees",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"guardian",type:"address"}],name:"withdrawBootstrapFunds",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getFeesAndBootstrapState",outputs:[{internalType:"uint256",name:"certifiedFeesPerMember",type:"uint256"},{internalType:"uint256",name:"generalFeesPerMember",type:"uint256"},{internalType:"uint256",name:"certifiedBootstrapPerMember",type:"uint256"},{internalType:"uint256",name:"generalBootstrapPerMember",type:"uint256"},{internalType:"uint256",name:"lastAssigned",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"guardian",type:"address"}],name:"getFeesAndBootstrapData",outputs:[{internalType:"uint256",name:"feeBalance",type:"uint256"},{internalType:"uint256",name:"lastFeesPerMember",type:"uint256"},{internalType:"uint256",name:"bootstrapBalance",type:"uint256"},{internalType:"uint256",name:"lastBootstrapPerMember",type:"uint256"},{internalType:"uint256",name:"withdrawnFees",type:"uint256"},{internalType:"uint256",name:"withdrawnBootstrap",type:"uint256"},{internalType:"bool",name:"certified",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"deactivateRewardDistribution",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"startTime",type:"uint256"}],name:"activateRewardDistribution",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getSettings",outputs:[{internalType:"uint256",name:"generalCommitteeAnnualBootstrap",type:"uint256"},{internalType:"uint256",name:"certifiedCommitteeAnnualBootstrap",type:"uint256"},{internalType:"bool",name:"rewardAllocationActive",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"getGeneralCommitteeAnnualBootstrap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"annualAmount",type:"uint256"}],name:"setGeneralCommitteeAnnualBootstrap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getCertifiedCommitteeAnnualBootstrap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"annualAmount",type:"uint256"}],name:"setCertifiedCommitteeAnnualBootstrap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isRewardAllocationActive",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"guardian",type:"address"}],name:"migrateRewardsBalance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"guardian",type:"address"},{internalType:"uint256",name:"fees",type:"uint256"},{internalType:"uint256",name:"bootstrapRewards",type:"uint256"}],name:"acceptRewardsBalanceMigration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"emergencyWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],h=n(9),k=[{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"contractName",type:"string"},{indexed:!1,internalType:"address",name:"addr",type:"address"},{indexed:!1,internalType:"bool",name:"managedContract",type:"bool"}],name:"ContractAddressUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newContractRegistry",type:"address"}],name:"ContractRegistryUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"role",type:"string"},{indexed:!1,internalType:"address",name:"newManager",type:"address"}],name:"ManagerChanged",type:"event"},{inputs:[{internalType:"string",name:"contractName",type:"string"},{internalType:"address",name:"addr",type:"address"},{internalType:"bool",name:"managedContract",type:"bool"}],name:"setContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"contractName",type:"string"}],name:"getContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getManagedContracts",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"lockContracts",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unlockContracts",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"role",type:"string"},{internalType:"address",name:"manager",type:"address"}],name:"setManager",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"role",type:"string"}],name:"getManager",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IContractRegistry",name:"newRegistry",type:"address"}],name:"setNewContractRegistry",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getPreviousContractRegistry",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],T=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{o(a.next(e))}catch(t){i(t)}}function u(e){try{o(a.throw(e))}catch(t){i(t)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}o((a=a.apply(e,t||[])).next())}))},v=function(e,t){var n,a,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,a=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(u){i=[6,u],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function _(e,t){return void 0===t&&(t=!0),T(this,void 0,void 0,(function(){var n,a;return v(this,(function(i){switch(i.label){case 0:return(n=new o.a(new o.a.providers.HttpProvider(e,{keepAlive:!0}))).eth.transactionBlockTimeout=0,n.eth.transactionPollingTimeout=0,n.eth.transactionConfirmationBlocks=1,Object.assign(n,{multicallContractAddress:"0xeefBa1e63905eF1D7ACbA5a8513c70307C1cE441"}),(a={})[r.Delegate]=[],a[r.Reward]=[],a[r.FeeBootstrapReward]=[],a[r.Guardian]=[],a[r.Erc20]=[{address:"0xff56Cc6b1E6dEd347aA0B7676C85AB0B3D08B0FA",startBlock:5710114,endBlock:"latest",abi:c}],a[r.Stake]=[{address:"0x01D59Af68E2dcb44e04C50e05F62E7043F2656C3",startBlock:C(1).number,endBlock:"latest",abi:m}],a[r.Registry]=[{address:"0xD859701C81119aB12A1e62AF6270aD2AE05c7AB3",startBlock:11191400,endBlock:"latest",abi:k}],t?[4,x(a,n)]:[3,2];case 1:i.sent(),Object.assign(n,{contractsData:a}),i.label=2;case 2:return[2,n]}}))}))}function R(e,t){return void 0===t&&(t=!0),T(this,void 0,void 0,(function(){var n,a;return v(this,(function(i){switch(i.label){case 0:return(n=new o.a(new o.a.providers.HttpProvider(e,{keepAlive:!0}))).eth.transactionBlockTimeout=0,n.eth.transactionPollingTimeout=0,n.eth.transactionConfirmationBlocks=1,Object.assign(n,{multicallContractAddress:"0x11ce4B23bD875D7F5C6a31084f55fDe1e9A87507"}),(a={})[r.Delegate]=[],a[r.Reward]=[],a[r.FeeBootstrapReward]=[],a[r.Guardian]=[],a[r.Erc20]=[{address:"0x614389EaAE0A6821DC49062D56BDA3d9d45Fa2ff",startBlock:14283390,endBlock:"latest",abi:y}],a[r.Stake]=[{address:"0xeeae6791f684117b7028b48cb5dd21186df80b9c",startBlock:25487295,endBlock:"latest",abi:m}],a[r.Registry]=[{address:"0x35eA0D75b2a3aB06393749B4651DfAD1Ffd49A77",startBlock:25502848,endBlock:"latest",abi:k}],t?[4,x(a,n)]:[3,2];case 1:i.sent(),Object.assign(n,{contractsData:a}),i.label=2;case 2:return[2,n]}}))}))}function x(e,t){return T(this,void 0,void 0,(function(){var n,a,i,s;return v(this,(function(u){switch(u.label){case 0:n=e[r.Registry][0].startBlock,a=e[r.Registry][0].address,u.label=1;case 1:return i=new t.eth.Contract(e[r.Registry][0].abi,a),[4,_e(e,i,n)];case 2:s=u.sent(),a=s.nextRegContract,n=s.nextRegStartBlock,u.label=3;case 3:if(""!==a)return[3,1];u.label=4;case 4:return[2,e]}}))}))}function M(e){return T(this,void 0,void 0,(function(){var t;return v(this,(function(n){switch(n.label){case 0:return[4,e.eth.getBlock("latest")];case 1:return t=n.sent(),[2,{time:Number(t.timestamp)-13,number:t.number-1}]}}))}))}!function(e){e.Staked="0x1449c6dd7851abc30abf37f57715f492010519147cc2652fbc38202c18a6ee90",e.Restaked="0xa217c421e0e9357b7b1815d752952b142ddc0e23f9f14ecb8233f8f83d563c4d",e.Unstaked="0x7fc4727e062e336010f2c282598ef5f14facb3de68cf8195c2f23e1454b2b74e",e.Withdrew="0xadec52fcd1408589179b85e44b434374db078b4eaf793e7d1a1bb0ae4ecfeee5",e.Delegated="0x4bc154dd35d6a5cb9206482ecb473cdbf2473006d6bce728b9cc0741bcc59ea2",e.DelegateStakeChanged="0x52db726bc1b1643b24886ed6f0194a41de9abac79d1c12108aca494e5b2bda6b",e.StakingRewardAllocated="0x5830b366dc4564bf14d32116f14c979ac2c150a96b7c6b99bea717e6990d56ba",e.DelegatorRewardAssigned="0x411edbca4a882d6fbf12b557451a9358a63f73e3011a8c712885cb1e207120dd",e.GuardianRewardAssigned="0x3880098574881d40bf7b9775086fdc9e6d6edac939d881add769581473c84b45",e.StakingRewardsClaimed="0x5f51e0cd4567b63928e199868f571929625ded3459b724759a0eb8edbf94158b",e.BootstrapRewardAssigned="0x0964bebae9e6862697e967a3fe1c7ba8a0f52ba9b6d2cd754a41e8c3be7f8d66",e.FeeAssigned="0x40ed9423e22a17617adb53819ad0279d3d22356c958e384e233214c870561b99",e.BootstrapWithdrawn="0x565f40e50eac33ad36895230f693465a27f5341f25e6525568ae66cb24eb1a15",e.FeeWithdrawn="0xdeb5099d7943aa2b4c1142e5d53d2f7636aa8f7bd130ec79816f151572bcdf45",e.GuardianRegisterd="0xc2d72ac93e7fb29c534663a530cd3db012d5c336965e423e0ed5ee7a64ed8745",e.GuardianUpdateData="0xedbe727a71a63bf990149415e72abb211f748254e2c40d878fdc02f440233d22",e.GuardianUpdateMetaData="0x1cf3d48eb5d849f59c9ee28edc1564cde8ca0e708ccaecf5416a48d3810c5657"}(a||(a={})),function(e){e.Erc20="Erc20",e.Stake="Stake",e.Delegate="delegations",e.Reward="stakingRewards",e.FeeBootstrapReward="feesAndBootstrapRewards",e.Guardian="guardiansRegistration",e.Registry="ContractRegistry"}(r||(r={}));var O={1:{time:1603200055,number:11093232},137:{time:1620563553,number:14283390}};function A(e,t){void 0===t&&(t=1);var n=O[t],a=C(t),r=(n.time-a.time)/(n.number-a.number);return a.time+Math.round((e-a.number)*r)}function C(e){void 0===e&&(e=1);return{1:{time:1586328645,number:983e4},137:{time:1646207643,number:25487295}}[e]}function S(e,t){return 0===e||-1===e?C().number:Math.max(C().number,e<0?t+e:e)}function B(e){void 0===e&&(e=1);return{1:{time:1604459620,number:11191407},137:{time:1604459620,number:6593754}}[e]}function j(e,t){return 0===e||-1===e?B().number:Math.max(B().number,e<0?t+e:e)}function D(){return{number:11191403,time:1604459583}}function P(e,t){return 0===e||-1===e?11191403:Math.max(11191403,e<0?t+e:e)}var N="CURRENT_BLOCK_TIMESTAMP";function G(e){return{number:e.results.blockNumber.toNumber(),time:e.results.transformed.CURRENT_BLOCK_TIMESTAMP.toNumber()}}function W(e,t){return T(this,void 0,void 0,(function(){var n,a,i,s,u,o;return v(this,(function(d){switch(d.label){case 0:for(n={web3:t,multicallAddress:t.multicallContractAddress},a=t.contractsData[r.Erc20][0].address,i=[],s=0,u=e;s<u.length;s++)o=u[s],i.push({target:a,call:["balanceOf(address)(uint256)",o],returns:[[o,function(e){return Object(h.b)(new l.a(e))}]]});return[4,Object(p.a)(i,n)];case 1:return[2,d.sent().results.transformed]}}))}))}function F(e,t){return T(this,void 0,void 0,(function(){var n,a,i,s,u,o;return v(this,(function(d){switch(d.label){case 0:for(n={web3:t,multicallAddress:t.multicallContractAddress},a=t.contractsData[r.Stake][0].address,i=[],s=0,u=e;s<u.length;s++)o=u[s],i.push({target:a,call:["getStakeBalanceOf(address)(uint256)",o],returns:[[o,function(e){return Object(h.b)(new l.a(e))}]]});return[4,Object(p.a)(i,n)];case 1:return[2,d.sent().results.transformed]}}))}))}function E(e){return T(this,void 0,void 0,(function(){var t,n,a,i,s;return v(this,(function(u){switch(u.label){case 0:return t={web3:e,multicallAddress:e.multicallContractAddress},n=Re(e,r.Delegate),a=Re(e,r.Stake),i=[{target:n,call:["uncappedDelegatedStake(address)(uint256)","0xffffffffffffffffffffffffffffffffffffffff"],returns:[["uncapped",function(e){return new l.a(e)}]]},{target:a,call:["getTotalStakedTokens()(uint256)"],returns:[["staked",function(e){return new l.a(e)}]]},{call:["getCurrentBlockTimestamp()(uint256)"],returns:[[N]]}],[4,Object(p.a)(i,t)];case 1:return[2,{block:G(s=u.sent()),totalStake:Object(h.b)(s.results.transformed.staked.minus(s.results.transformed.uncapped))}]}}))}))}var I="b",L="s",U="cooldownStake",V="cooldownTime",H="dRewardBalance",q="dRewardClaim",z="dGuardian",Q="dRPT",Z="dDeltaRPT";function J(e,t){return T(this,void 0,void 0,(function(){var n,a,i,s,u,o;return v(this,(function(d){switch(d.label){case 0:return n={web3:t,multicallAddress:t.multicallContractAddress},a=Re(t,r.Erc20),i=Re(t,r.Stake),s=Re(t,r.Reward),u=[{target:a,call:["balanceOf(address)(uint256)",e],returns:[[I,function(e){return new l.a(e)}]]},{target:i,call:["getStakeBalanceOf(address)(uint256)",e],returns:[[L,function(e){return new l.a(e)}]]},{target:i,call:["getUnstakeStatus(address)(uint256,uint256)",e],returns:[[U,function(e){return new l.a(e)}],[V,function(e){return new l.a(e)}]]},{target:s,call:["getDelegatorStakingRewardsData(address)(uint256,uint256,address,uint256,uint256)",e],returns:[[H,function(e){return new l.a(e)}],[q,function(e){return new l.a(e)}],[z,function(e){return e.toLowerCase()}],[Q,function(e){return new l.a(e)}],[Z,function(e){return new l.a(e)}]]},{call:["getCurrentBlockTimestamp()(uint256)"],returns:[[N]]}],[4,Object(p.a)(u,n)];case 1:return[2,{block:G(o=d.sent()),data:o.results.transformed}]}}))}))}function K(e,t){return T(this,void 0,void 0,(function(){var n,a,i,s;return v(this,(function(u){switch(u.label){case 0:return[4,J(e,t)];case 1:return n=u.sent(),a=n.block,i=n.data,[4,xe(t,r.Reward).methods.getGuardianStakingRewardsData(i.dGuardian).call({},a.number)];case 2:return s=u.sent(),[2,{block:a,non_stake:i.b,staked:i.s,cooldown_stake:i.cooldownStake,current_cooldown_time:i.cooldownTime.toNumber(),self_reward_balance:i.dRewardBalance,self_reward_claimed:i.dRewardClaim,self_total_rewards:i.dRewardBalance.plus(i.dRewardClaim),self_last_rewarded:i.s.multipliedBy(i.dDeltaRPT).dividedBy(h.a),delegator_RPT:i.dRPT,delegator_delta_RPT:i.dDeltaRPT,guardian:i.dGuardian,guardian_delta_RPW:new l.a(s.stakingRewardsPerWeightDelta),guardian_RPW:new l.a(s.lastStakingRewardsPerWeight),guardian_delta_RPT:new l.a(s.delegatorRewardsPerTokenDelta),guardian_RPT:new l.a(s.delegatorRewardsPerToken)}]}}))}))}var X="name",Y="website",$="orbsaddress",ee="gRegTime",te="gUpdateTime",ne="gUrl",ae="gDelegateStake",re="gRewardBalance",ie="gRewardClaim",se="gLastRewardBalance",ue="gLastRewardClaim",oe="gRPW",de="gDeltaRPW",le="gRPT",pe="gDeltaRPT",ce="gRewardPrecent",ye="gFeeBalance",me="gFeeWithdraw",be="gBootBalance",fe="gBootWithdraw",ge="gCertified";function we(e,t){return T(this,void 0,void 0,(function(){var n,a,i,s,u,o,d,c,y;return v(this,(function(m){switch(m.label){case 0:return n={web3:t,multicallAddress:t.multicallContractAddress},a=Re(t,r.Erc20),i=Re(t,r.Stake),s=Re(t,r.Reward),u=Re(t,r.Guardian),o=Re(t,r.Delegate),d=Re(t,r.FeeBootstrapReward),c=[{target:a,call:["balanceOf(address)(uint256)",e],returns:[[I,function(e){return new l.a(e)}]]},{target:i,call:["getStakeBalanceOf(address)(uint256)",e],returns:[[L,function(e){return new l.a(e)}]]},{target:i,call:["getUnstakeStatus(address)(uint256,uint256)",e],returns:[[U,function(e){return new l.a(e)}],[V,function(e){return new l.a(e)}]]},{target:s,call:["getDelegatorStakingRewardsData(address)(uint256,uint256,address,uint256,uint256)",e],returns:[[H,function(e){return new l.a(e)}],[q,function(e){return new l.a(e)}],[z,function(e){return e.toLowerCase()}],[Q,function(e){return new l.a(e)}],[Z,function(e){return new l.a(e)}]]},{target:s,call:["getGuardianStakingRewardsData(address)(uint256,uint256,uint256,uint256,uint256,uint256)",e],returns:[[re,function(e){return new l.a(e)}],[ie,function(e){return new l.a(e)}],[le,function(e){return new l.a(e)}],[pe,function(e){return new l.a(e)}],[oe,function(e){return new l.a(e)}],[de,function(e){return new l.a(e)}]]},{target:s,call:["getGuardianDelegatorsStakingRewardsPercentMille(address)(uint256)",e],returns:[[ce,function(e){return new l.a(e)}]]},{target:s,call:["guardiansStakingRewards(address)(uint96,uint96,uint96,uint96)",e],returns:[[],[],[se,function(e){return new l.a(e)}],[ue,function(e){return new l.a(e)}]]},{target:o,call:["getDelegatedStake(address)(uint256)",e],returns:[[ae,function(e){return new l.a(e)}]]},{target:d,call:["getFeesAndBootstrapData(address)(uint256,uint256,uint256,uint256,uint256,uint256,bool)",e],returns:[[ye,function(e){return new l.a(e)}],[],[be,function(e){return new l.a(e)}],[],[me,function(e){return new l.a(e)}],[fe,function(e){return new l.a(e)}],[ge]]},{target:u,call:["getMetadata(address,string)(string)",e,"ID_FORM_URL"],returns:[[ne]]},{target:u,call:["getGuardianData(address)(bytes4,address,string,string,uint,uint)",e],returns:[["ip",function(e){return Object(h.d)(e)}],[$,function(e){return e.toLowerCase()}],[X],[Y],[ee,function(e){return new l.a(e)}],[te,function(e){return new l.a(e)}]]},{call:["getCurrentBlockTimestamp()(uint256)"],returns:[[N]]}],[4,Object(p.a)(c,n)];case 1:return[2,{block:G(y=m.sent()),data:y.results.transformed}]}}))}))}function he(e,t){return T(this,void 0,void 0,(function(){var n,a,r;return v(this,(function(i){switch(i.label){case 0:return[4,we(e,t)];case 1:return n=i.sent(),a=n.block,r=n.data,[2,{block:a,details:{name:r.name,website:r.website,ip:r.ip,node_address:r[$],registration_time:r.gRegTime.toNumber(),last_update_time:r.gUpdateTime.toNumber(),details_URL:r.gUrl,certified:r.gCertified},stake_status:{self_stake:Object(h.b)(r.s),cooldown_stake:Object(h.b)(r.cooldownStake),current_cooldown_time:r.cooldownTime.toNumber(),non_stake:Object(h.b)(r.b),delegated_stake:Object(h.b)(r.gDelegateStake.minus(r.s)),total_stake:Object(h.b)(r.gDelegateStake)},reward_status:{guardian_rewards_balance:Object(h.b)(r.gRewardBalance),guardian_rewards_claimed:Object(h.b)(r.gRewardClaim),total_guardian_rewards:Object(h.b)(r.gRewardBalance.plus(r.gRewardClaim)),delegator_rewards_balance:Object(h.b)(r.dRewardBalance),delegator_rewards_claimed:Object(h.b)(r.dRewardClaim),total_delegator_rewards:Object(h.b)(r.dRewardBalance.plus(r.dRewardClaim)),fees_balance:Object(h.b)(r.gFeeBalance),fees_claimed:Object(h.b)(r.gFeeWithdraw),total_fees:Object(h.b)(r.gFeeBalance.plus(r.gFeeWithdraw)),bootstrap_balance:Object(h.b)(r.gBootBalance),bootstrap_claimed:Object(h.b)(r.gBootWithdraw),total_bootstrap:Object(h.b)(r.gBootBalance.plus(r.gBootWithdraw)),delegator_reward_share:r.gRewardPrecent.toNumber()/1e5},total_rewards:r.gRewardBalance.plus(r.gRewardClaim),last_rewarded:r.gRewardBalance.plus(r.gRewardClaim).minus(r.gLastRewardBalance).minus(r.gLastRewardClaim),self_total_rewards:r.dRewardBalance.plus(r.dRewardClaim),self_last_rewarded:r.s.multipliedBy(r.dDeltaRPT).dividedBy(h.a),guardian:e.toLowerCase(),guardian_delta_RPW:r.gDeltaRPW,guardian_RPW:r.gRPW,guardian_delta_RPT:r.gDeltaRPT,guardian_RPT:r.gRPT,delegator_delta_RPT:r.dDeltaRPT,delegator_RPT:r.dRPT}]}}))}))}function ke(e){return"0x000000000000000000000000"+e.substr(2).toLowerCase()}function Te(e,t,n,a,r){return void 0===r&&(r="latest"),T(this,void 0,void 0,(function(){var i,s,u,o,d,l,p;return v(this,(function(c){switch(c.label){case 0:return a?[3,2]:[4,n.eth.getChainId()];case 1:i=c.sent(),a=C(i).number,c.label=2;case 2:s=function(e,t){for(var n=[],a=0,r=e.contractsData[t];a<r.length;a++){var i=r[a];n.push(new e.eth.Contract(i.abi,i.address))}return n}(n,t),u=[],o=0,d=s,c.label=3;case 3:return o<d.length?(l=d[o],[4,ve(e,l,n,a,r,1e5)]):[3,6];case 4:p=c.sent(),u.push.apply(u,p),c.label=5;case 5:return o++,[3,3];case 6:return[2,u]}}))}))}function ve(e,t,n,a,r,i){return T(this,void 0,void 0,(function(){var s,u,o,d,l,p,c,y,m;return v(this,(function(b){switch(b.label){case 0:return b.trys.push([0,2,,11]),s={topics:e,fromBlock:a,toBlock:r},[4,t.getPastEvents("allEvents",s)];case 1:return[2,b.sent()];case 2:if(!(""+(u=b.sent())).includes("query returned more than"))return[3,9];if(i<=10)throw new Error("looking for events slowed down to 10 - fail");return"string"!==typeof r?[3,4]:[4,M(n)];case 3:o=b.sent(),r=o.number,b.label=4;case 4:console.log("\x1b[36m%s\x1b[0m","read events slowing down to "+i),d=[],l=a,b.label=5;case 5:return l<r?(p=l+i>r?r:l+i,y=(c=d.push).apply,m=[d],[4,ve(e,t,n,l,p,i/10)]):[3,8];case 6:y.apply(c,m.concat([b.sent()])),b.label=7;case 7:return l+=i,[3,5];case 8:return console.log("\x1b[36m%s\x1b[0m","read events slowing down ended"),[2,d];case 9:throw u;case 10:return[3,11];case 11:return[2]}}))}))}function _e(e,t,n){return T(this,void 0,void 0,(function(){var a,r,i,u,o,d,l,p;return v(this,(function(c){switch(c.label){case 0:return a={fromBlock:n,toBlock:"latest"},[4,t.getPastEvents("allEvents",a)];case 1:for((r=c.sent()).sort(Oe),i=0,u=r;i<u.length;i++)if("ContractAddressUpdated"===(o=u[i]).event)d=o.returnValues.contractName,s.a.has(e,d)&&((l=e[d]).length>0&&(l[l.length-1].endBlock=o.blockNumber),p=String(o.returnValues.addr).toLowerCase(),l.push({address:p,startBlock:o.blockNumber+1,endBlock:"latest",abi:Me(p,d)}));else if("ContractRegistryUpdated"===o.event)return[2,{nextRegContract:String(o.returnValues.newContractRegistry).toLowerCase(),nextRegStartBlock:o.blockNumber}];return[2,{nextRegContract:"",nextRegStartBlock:0}]}}))}))}function Re(e,t){return e.contractsData[t][e.contractsData[t].length-1].address}function xe(e,t){var n=e.contractsData[t][e.contractsData[t].length-1];return new e.eth.Contract(n.abi,n.address)}function Me(e,t){if(t==r.Delegate)return b;if(t==r.Reward)return g;if(t==r.FeeBootstrapReward)return w;if(t==r.Guardian)return f;throw new Error("failed to get abi for "+e+" type "+t)}function Oe(e,t){return e.blockNumber!==t.blockNumber?e.blockNumber-t.blockNumber:e.transactionIndex!==t.transactionIndex?e.transactionIndex-t.transactionIndex:e.logIndex-t.logIndex}function Ae(e,t){return t.blockNumber-e.blockNumber}function Ce(e){return"https://etherscan.io/tx/"+e}},166:function(e,t,n){"use strict";n(22),n(27)},252:function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return m}));var a=n(22),r=n.n(a),i=n(5),s=n.n(i),u=n(9),o=n(1),d=n(65),l=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{o(a.next(e))}catch(t){i(t)}}function u(e){try{o(a.throw(e))}catch(t){i(t)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}o((a=a.apply(e,t||[])).next())}))},p=function(e,t){var n,a,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,a=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(u){i=[6,u],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function c(e){return l(this,void 0,void 0,(function(){var t,n,a,i,s,o,d;return p(this,(function(l){switch(l.label){case 0:t="",n={},a=0,i=e,l.label=1;case 1:if(!(a<i.length))return[3,6];s=i[a],l.label=2;case 2:return l.trys.push([2,4,,5]),[4,Object(u.c)(s)];case 3:return o=l.sent(),r.a.forEach(o.Payload.Guardians,(function(e){var t;n[e.Name]=1===(null===(t=e)||void 0===t?void 0:t.IdentityType)})),[2,n];case 4:return d=l.sent(),t+="Warning: access to URL "+s+" failed, trying another. Error: "+d+"\n",[3,5];case 5:return a++,[3,1];case 6:throw new Error("Error while checking Guardians, all Network Node URL failed to respond. "+t)}}))}))}function y(e,t){return void 0===t&&(t=[]),l(this,void 0,void 0,(function(){var n,a,i,s,o,d,l,y;return p(this,(function(p){switch(p.label){case 0:return t.length?[4,c(t)]:[3,2];case 1:return a=p.sent(),[3,3];case 2:a={},p.label=3;case 3:n=a,i="",s=0,o=e,p.label=4;case 4:if(!(s<o.length))return[3,9];d=o[s],p.label=5;case 5:return p.trys.push([5,7,,8]),[4,Object(u.c)(d)];case 6:return l=p.sent(),[2,r.a.map(l.Payload.Guardians,(function(e){var t,a,r;return{name:e.Name,address:"0x"+String(e.EthAddress).toLowerCase(),website:e.Website,effective_stake:Number((null===(t=e)||void 0===t?void 0:t.EffectiveStake)||0),ip:(null===(a=e)||void 0===a?void 0:a.Ip)||"",certified:n[e.Name]||1===(null===(r=e)||void 0===r?void 0:r.IdentityType)}}))];case 7:return y=p.sent(),i+="Warning: access to URL "+d+" failed, trying another. Error: "+y+"\n",[3,8];case 8:return s++,[3,4];case 9:throw new Error("Error while creating list of Guardians, all Netowrk Node URL failed to respond. "+i)}}))}))}function m(e,t,n){return l(this,void 0,void 0,(function(){var a,i,s,l,c,y,m,f,w,T,v,_,R,x;return p(this,(function(p){switch(p.label){case 0:return a=Object(u.f)(n),i=[],s=[],l={},c=[],y=[],m=[],f=[],r.a.isString(t)?[4,Object(o.n)(t)]:[3,2];case 1:return T=p.sent(),[3,3];case 2:T=t,p.label=3;case 3:return w=T,[4,Object(o.s)(e,w)];case 4:return v=p.sent(),a.read_history?(_=[b(e,v,w).then((function(e){l=e.delegatorMap,i.push.apply(i,e.delegateActions),s.push.apply(s,e.delegationStakes)})),g(e,v,w,a).then((function(e){i.push.apply(i,e.stakeActions),s.push.apply(s,e.stakesBeforeDelegation)})),h(e,v,w,a).then((function(e){i.push.apply(i,e)})),k(e,v,w,a).then((function(e){i.push.apply(i,e.withdrawActions),m=e.bootstraps,f=e.fees}))],a.read_rewards_disable?_.push(Object(d.d)(e,v,w,a,!0).then((function(e){return i.push.apply(i,e.claimActions)}))):_.push(Object(d.c)(e,v,w,a).then((function(e){i.push.apply(i,e.claimActions),c=e.rewardsAsGuardian,y=e.rewardsAsDelegator}))),[4,Promise.all(_)]):[3,6];case 5:p.sent(),p.label=6;case 6:return i.sort((function(e,t){return t.block_number-e.block_number})),s.sort((function(e,t){return t.block_number-e.block_number})),R=r.a.map(r.a.pickBy(l,(function(e){return 0!==e.stake})),(function(e){return e})).sort((function(e,t){return t.stake-e.stake})),x=r.a.map(r.a.pickBy(l,(function(e){return 0===e.stake})),(function(e){return e})),[2,{address:e.toLowerCase(),block_number:v.block.number,block_time:v.block.time,read_from_block:Object(u.e)(a,v.block.number),details:v.details,stake_status:v.stake_status,reward_status:v.reward_status,actions:i,stake_slices:s,reward_as_guardian_slices:c,reward_as_delegator_slices:y,bootstrap_slices:m,fees_slices:f,delegators:R,delegators_left:x}]}}))}))}function b(e,t,n){return l(this,void 0,void 0,(function(){var a,i,d,l,c,y,m,b,g,h,k,T,v,_,R;return p(this,(function(p){switch(p.label){case 0:return a=[[o.b.DelegateStakeChanged,o.b.Delegated],Object(o.c)(e)],[4,Object(o.q)(a,o.a.Delegate,n)];case 1:return i=p.sent(),d={},l=[],c=[],i.sort(o.d),[4,n.eth.getChainId()];case 2:for(y=p.sent(),m=0,b=i;m<b.length;m++)(g=b[m]).signature===o.b.DelegateStakeChanged?((h=g.returnValues.delegator.toLowerCase())!==e&&(k={last_change_block:g.blockNumber,last_change_time:0,address:h,stake:Object(u.b)(new s.a(g.returnValues.delegatorContributedStake)),non_stake:0},d[h]=k),T=new s.a(g.returnValues.selfDelegatedStake),v=new s.a(g.returnValues.delegatedStake),f(l,g.blockNumber,Object(u.b)(T),Object(u.b)(v.minus(T)),r.a.size(d),y)):g.signature===o.b.Delegated&&(_=String(g.returnValues.to).toLowerCase(),c.push({contract:g.address.toLowerCase(),event:_===e.toLowerCase()?"SelfDelegated":g.event,block_time:Object(o.g)(g.blockNumber,y),block_number:g.blockNumber,tx_hash:g.transactionHash,additional_info_link:Object(o.f)(g.transactionHash),to:_}));return l.push(w(t.block.number,t.block.time,t.stake_status.self_stake,t.stake_status.delegate_stake,t.stake_status.total_stake,r.a.size(d))),[4,Object(o.p)(r.a.keys(d),n)];case 3:return R=p.sent(),r.a.forOwn(d,(function(e){e.last_change_time=Object(o.g)(e.last_change_block),e.non_stake=R[e.address]})),[2,{delegationStakes:l,delegatorMap:d,delegateActions:c}]}}))}))}function f(e,t,n,a,r,i){if(e.length>0&&e[e.length-1].block_number==t){var s=e[e.length-1];s.self_stake=n,s.delegated_stake=a,s.total_stake=n+a,s.n_delegates=r}else e.push(w(t,Object(o.g)(t,i),n,a,n+a,r))}function g(e,t,n,a){return l(this,void 0,void 0,(function(){var r,i,d,l,c,y,m,b,f,g,h;return p(this,(function(p){switch(p.label){case 0:return r=Object(o.i)(a.read_from_block,t.block.number),i=[[o.b.Staked,o.b.Restaked,o.b.Unstaked,o.b.Withdrew],Object(o.c)(e)],[4,Object(o.q)(i,o.a.Stake,n,r)];case 1:return(d=p.sent()).sort(o.d),l=new s.a(0),c=[],y=[],[4,n.eth.getChainId()];case 2:for(m=p.sent(),b=0,f=d;b<f.length;b++)g=f[b],h=new s.a(g.returnValues.amount),g.signature===o.b.Staked||g.signature===o.b.Restaked?l=l.plus(h):g.signature===o.b.Unstaked&&(l=l.minus(h)),y.push({contract:g.address.toLowerCase(),event:g.event,block_number:g.blockNumber,block_time:Object(o.g)(g.blockNumber,m),tx_hash:g.transactionHash,additional_info_link:Object(o.f)(g.transactionHash),amount:Object(u.b)(h),current_stake:Object(u.b)(l)}),g.blockNumber<Object(o.k)().number&&c.push(w(g.blockNumber,Object(o.g)(g.blockNumber),Object(u.b)(l),0,Object(u.b)(l),0));return r<=Object(o.l)().number&&c.push(w(Object(o.l)().number,Object(o.l)().time,0,0,0,0)),[2,{stakeActions:y,stakesBeforeDelegation:c}]}}))}))}function w(e,t,n,a,r,i){return{block_number:e,block_time:t,self_stake:n,delegated_stake:a,total_stake:r,n_delegates:i}}function h(e,t,n,a){return l(this,void 0,void 0,(function(){var r,i,s,u,d,l,c;return p(this,(function(p){switch(p.label){case 0:return r=Object(o.i)(a.read_from_block,t.block.number),i=[o.b.GuardianRegisterd,Object(o.c)(e)],[4,Object(o.q)(i,o.a.Guardian,n,r)];case 1:for(s=p.sent(),u=[],d=0,l=s;d<l.length;d++)c=l[d],u.push({contract:c.address.toLowerCase(),event:c.event,block_number:c.blockNumber,block_time:Object(o.g)(c.blockNumber),tx_hash:c.transactionHash,additional_info_link:Object(o.f)(c.transactionHash)});return[2,u]}}))}))}function k(e,t,n,a){return l(this,void 0,void 0,(function(){var r,i,d,l,c,y,m,b,f;return p(this,(function(p){switch(p.label){case 0:return r=Object(o.j)(a.read_from_block,t.block.number),i=[T(t.block.number,t.block.time,"",t.reward_status.fees_balance+t.reward_status.fees_claimed)],d=[T(t.block.number,t.block.time,"",t.reward_status.bootstrap_balance+t.reward_status.bootstrap_claimed)],l=[],c=[[o.b.BootstrapRewardAssigned,o.b.FeeAssigned,o.b.BootstrapWithdrawn,o.b.FeeWithdrawn],Object(o.c)(e)],[4,Object(o.q)(c,o.a.FeeBootstrapReward,n,r)];case 1:for((y=p.sent()).sort((function(e,t){return t.blockNumber-e.blockNumber})),m=0,b=y;m<b.length;m++)(f=b[m]).signature===o.b.BootstrapRewardAssigned?d.push(T(f.blockNumber,Object(o.g)(f.blockNumber),f.transactionHash,Object(u.b)(new s.a(f.returnValues.totalAwarded)))):f.signature===o.b.FeeAssigned?i.push(T(f.blockNumber,Object(o.g)(f.blockNumber),f.transactionHash,Object(u.b)(new s.a(f.returnValues.totalAwarded)))):f.signature!==o.b.BootstrapWithdrawn&&f.signature!==o.b.FeeWithdrawn||l.push({contract:f.address.toLowerCase(),event:f.event,block_number:f.blockNumber,block_time:Object(o.g)(f.blockNumber),tx_hash:f.transactionHash,additional_info_link:Object(o.f)(f.transactionHash),amount:Object(u.b)(new s.a(f.returnValues.amount))});return r<=Object(o.m)().number&&(i.push(T(Object(o.m)().number,Object(o.m)().time,"",0)),d.push(T(Object(o.m)().number,Object(o.m)().time,"",0))),[2,{bootstraps:d,fees:i,withdrawActions:l}]}}))}))}function T(e,t,n,a){return{block_number:e,block_time:t,tx_hash:n,additional_info_link:""!==n?Object(o.f)(n):"",total_awarded:a}}},253:function(e,t,n){"use strict";n(22),n(1),n(9)},264:function(e,t,n){"use strict";n(22),n(5),n(9),n(1),n(65)},405:function(e,t){},406:function(e,t){},441:function(e,t,n){},443:function(e,t,n){},456:function(e,t){},480:function(e,t){},482:function(e,t){},498:function(e,t){},573:function(e,t){},575:function(e,t){},584:function(e,t){},586:function(e,t){},61:function(e,t,n){"use strict";n(264);var a=n(252);n.d(t,"getGuardian",(function(){return a.a})),n.d(t,"getGuardians",(function(){return a.b}));n(253);var r=n(65);n.d(t,"getDelegatorStakingRewards",(function(){return r.b}));n(166);var i=n(1);n.d(t,"getStartOfRewardsBlock",(function(){return i.m})),n.d(t,"getWeb3",(function(){return i.n})),n.d(t,"getWeb3Polygon",(function(){return i.o}));n(406)},611:function(e,t){},613:function(e,t){},614:function(e,t){},619:function(e,t){},621:function(e,t){},640:function(e,t){},65:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return b}));var a=n(22),r=n.n(a),i=n(5),s=n.n(i),u=n(9),o=n(1),d=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{o(a.next(e))}catch(t){i(t)}}function u(e){try{o(a.throw(e))}catch(t){i(t)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}o((a=a.apply(e,t||[])).next())}))},l=function(e,t){var n,a,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,a=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(u){i=[6,u],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},p=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var a=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,u=i.length;s<u;s++,r++)a[r]=i[s];return a};function c(e,t,n,a){return d(this,void 0,void 0,(function(){var r,i,u,d,p,c,y,m,b,w,R,x,O;return l(this,(function(l){switch(l.label){case 0:return r=M(e,t,a,!0),i=[Object(o.q)([[o.b.GuardianRewardAssigned,o.b.DelegatorRewardAssigned,o.b.StakingRewardsClaimed],Object(o.c)(r.gAddress)],o.a.Reward,n,r.startBlockNumber,r.endBlockNumber),Object(o.q)([o.b.StakingRewardAllocated],o.a.Reward,n,r.startBlockNumber,r.endBlockNumber)],[4,Promise.all(i)];case 1:return u=l.sent(),d=f(u[0],r),p=d.guardianEvents,c=d.delegatorEvents,y=d.delegationChanges,m=g(u[0],!0),b=T(u[1]),w=k(p,b),R=function(e,t){var n=[],a=t.gTotalAwarded,r=t.gLastAwarded,i=t.gDeltaRPW,u=t.gRPW;n.push(v(t.endBlockNumber,"",a));for(var d=0,l=e;d<l.length;d++){var p=l[d];if(p.signature===o.b.GuardianRewardAssigned)a=new s.a(p.returnValues.totalAwarded),r=new s.a(p.returnValues.amount),i=new s.a(p.returnValues.stakingRewardsPerWeightDelta),u=new s.a(p.returnValues.stakingRewardsPerWeight);else{if(!i.isZero()){var c=r.multipliedBy(u.minus(new s.a(p.returnValues.stakingRewardsPerWeight)).dividedBy(i));a=a.minus(c),r=r.minus(c)}var y=new s.a(p.returnValues.stakingRewardsPerWeight);i=i.minus(u).plus(y),u=y}n.push(v(p.blockNumber,p.transactionHash,a))}t.startBlockNumber<=Object(o.m)().number&&n.push(v(Object(o.m)().number,"",new s.a(0)));return n}(w,r),1===y.length?[3,3]:[4,h(y,n)];case 2:x=l.sent(),w=k(x,b),l.label=3;case 3:return O=_(c,w,r),[2,{rewardsAsGuardian:R,rewardsAsDelegator:O,claimActions:m}]}}))}))}function y(e,t,n){return d(this,void 0,void 0,(function(){var a,i,s;return l(this,(function(d){switch(d.label){case 0:return r.a.isString(t)?[4,Object(o.n)(t)]:[3,2];case 1:return i=d.sent(),[3,3];case 2:i=t,d.label=3;case 3:return a=i,[4,Object(o.r)(e,a)];case 4:return s=d.sent(),[2,m(e,s,a,Object(u.f)(n))]}}))}))}function m(e,t,n,a){return d(this,void 0,void 0,(function(){var r,i,s,u,d,p,c,y,m,b;return l(this,(function(l){switch(l.label){case 0:return r=M(e,t,a,!1),i=[Object(o.q)([[o.b.DelegatorRewardAssigned,o.b.StakingRewardsClaimed],Object(o.c)(e)],o.a.Reward,n,r.startBlockNumber,r.endBlockNumber),Object(o.q)([o.b.StakingRewardAllocated],o.a.Reward,n,r.startBlockNumber,r.endBlockNumber)],[4,Promise.all(i)];case 1:return s=l.sent(),u=f(s[0],r),d=u.delegatorEvents,p=u.delegationChanges,c=g(s[0],!1),y=T(s[1]),[4,h(p,n)];case 2:return m=l.sent(),b=k(m,y),[2,{rewards:_(d,b,r),claimActions:c}]}}))}))}function b(e,t,n,a,r){return d(this,void 0,void 0,(function(){var i;return l(this,(function(s){switch(s.label){case 0:return i=Object(o.j)(a.read_from_block,t.block.number),[4,Object(o.q)([o.b.StakingRewardsClaimed,Object(o.c)(e)],o.a.Reward,n,i)];case 1:return[2,{claimActions:g(s.sent(),r)}]}}))}))}function f(e,t){e.sort(o.d);var n=[],a=[],r=[],i=t.startBlockNumber;r.push({guardianAddress:t.gAddress,from:i,to:t.endBlockNumber});for(var s=0,u=0,d=e;u<d.length;u++){var l=d[u];if(l.signature===o.b.GuardianRewardAssigned)(0===(p=n.length)||n[p-1].blockNumber<l.blockNumber)&&n.push(l);else if(l.signature===o.b.DelegatorRewardAssigned){var p;if(0===(p=a.length)||a[p-1].blockNumber<l.blockNumber){a.push(l);var c=new String(l.returnValues.guardian).toLowerCase();r[s].guardianAddress!==c&&(r[s].from=l.blockNumber+1,r.push({guardianAddress:c,from:i,to:l.blockNumber}),s++)}}}return{guardianEvents:n,delegatorEvents:a,delegationChanges:r}}function g(e,t){var n=[];return r.a.map(e,(function(e){e.signature===o.b.StakingRewardsClaimed&&(t&&n.push(w(e,!0)),n.push(w(e,!1)))})),n}function w(e,t){return{contract:e.address.toLowerCase(),event:(t?"Guardian":"Delegator")+e.event,block_number:e.blockNumber,block_time:Object(o.g)(e.blockNumber),tx_hash:e.transactionHash,additional_info_link:Object(o.f)(e.transactionHash),amount:Object(u.b)(new s.a(t?e.returnValues.claimedGuardianRewards:e.returnValues.claimedDelegatorRewards))}}function h(e,t){return d(this,void 0,void 0,(function(){var n,a,r,i,s,u,d,p,c;return l(this,(function(l){switch(l.label){case 0:for(n=[],a=0,r=e;a<r.length;a++)i=r[a],n.push(Object(o.q)([o.b.GuardianRewardAssigned,Object(o.c)(i.guardianAddress)],o.a.Reward,t,i.from,i.to));return[4,Promise.all(n)];case 1:for(s=l.sent(),u=[],d=0,p=s;d<p.length;d++)c=p[d],u.push.apply(u,c);return T(u),[2,u]}}))}))}function k(e,t){var n=p(e,t).sort(o.e);if(0===e.length||0===t.length)return n;for(var a=e[0].signature,r=0,i=0;i<n.length-1;i++)n[i].blockNumber===n[i+1].blockNumber?(n[i].signature===a?n[r]=n[i]:n[r]=n[i+1],i++):n[r]=n[i],r++;return i<n.length&&(n[r]=n[i],r++),n.length=r,n}function T(e){if(e.length<2)return e;e.sort(o.d);for(var t=0,n=1;n<e.length;n++)e[t].blockNumber>=e[n].blockNumber||(e[++t]=e[n]);return e.length=t+1,e}function v(e,t,n){return{block_number:e,block_time:Object(o.g)(e),tx_hash:t,additional_info_link:""!==t?Object(o.f)(t):"",total_awarded:Object(u.b)(n)}}function _(e,t,n){var a=[];e.sort(o.e);var r=function(e,t){for(var n=[],a=t.gDeltaRPW,r=t.gRPW,i=t.gDeltaRPT,u=t.gRPT,d=0,l=e;d<l.length;d++){var p=l[d];if(p.signature===o.b.GuardianRewardAssigned)a=new s.a(p.returnValues.stakingRewardsPerWeightDelta),r=new s.a(p.returnValues.stakingRewardsPerWeight),i=new s.a(p.returnValues.delegatorRewardsPerTokenDelta),u=new s.a(p.returnValues.delegatorRewardsPerToken);else{var c=new s.a(p.returnValues.stakingRewardsPerWeight);if(!a.isZero()){var y=r.minus(c).multipliedBy(i).dividedBy(a);a=a.minus(r).plus(c),i=i.minus(y),u=u.minus(y)}r=c}a.isZero()||n.push(x(p.blockNumber,p.transactionHash,u))}return n}(t,n),i=n.dTotalAwarded,u=n.dLastAwarded,d=n.dDeltaRPT,l=n.gRPT,p=n.gAddress;a.push(R(n.endBlockNumber,"",p,i));for(var c=0,y=0,m=e;y<m.length;y++){for(var b=m[y];c<r.length;c++){var f=l;if(l=r[c].RPT,r[c].blockNumber===b.blockNumber){c++;break}if(!d.isZero()){var g=f.minus(l).multipliedBy(u).dividedBy(d);i=i.minus(g),a.push(R(r[c].blockNumber,r[c].transactionHash,p,i))}}i=new s.a(b.returnValues.totalAwarded),p=new String(b.returnValues.guardian).toLowerCase(),u=new s.a(b.returnValues.amount),d=new s.a(b.returnValues.delegatorRewardsPerTokenDelta),a.push(R(b.blockNumber,b.transactionHash,p,i))}if(!d.isZero())for(;c<r.length;c++){f=l;l=r[c].RPT;g=f.minus(l).multipliedBy(u).dividedBy(d);i=i.minus(g),a.push(R(r[c].blockNumber,r[c].transactionHash,p,i))}return n.startBlockNumber<=Object(o.m)().number&&a.push(R(Object(o.m)().number,"",p,new s.a(0))),a}function R(e,t,n,a){return{block_number:e,block_time:Object(o.g)(e),tx_hash:t,additional_info_link:""!==t?Object(o.f)(t):"",total_awarded:Object(u.b)(a),guardian_from:n}}function x(e,t,n){return{blockNumber:e,transactionHash:t,RPT:n}}function M(e,t,n,a){return{startBlockNumber:Object(o.j)(n.read_from_block,t.block.number),endBlockNumber:t.block.number,isGuardian:a,dAddress:e.toLowerCase(),dTotalAwarded:t.self_total_rewards,dLastAwarded:t.self_last_rewarded,dDeltaRPT:t.delegator_delta_RPT,dRPT:t.delegator_RPT,gTotalAwarded:a?t.total_rewards:new s.a(0),gLastAwarded:a?t.last_rewarded:new s.a(0),gDeltaRPW:t.guardian_delta_RPW,gRPW:t.guardian_RPW,gRPT:t.guardian_RPT,gDeltaRPT:t.guardian_delta_RPT,gAddress:t.guardian}}},652:function(e,t){},655:function(e,t){},661:function(e,t){},663:function(e,t){},696:function(e,t){},813:function(e,t){},814:function(e,t){},821:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(94),s=n.n(i),u=(n(440),n(441),n(167)),o=n(256),d=n(261),l=n(32),p=n(18),c=n.n(p),y=n(835),m=n(837),b=n(836),f=(n(443),n(422)),g=n(127),w=n(148),h=n.n(w),k=n(61),T=604800,v={1:13,137:2},_=Object(k.getStartOfRewardsBlock)(),R=["0x4aca0c63e351b2ea44ee628425710e933b5b3396","0xca0ff0479bd7f52e55e65da7b76074b477b734b3"],x={ethereum:k.getWeb3,polygon:k.getWeb3Polygon};function M(e,t){return O.apply(this,arguments)}function O(){return(O=Object(l.a)(c.a.mark((function e(t,n){var a,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.".concat(1===n?"etherscan":"polygonscan",".com/api?module=block&action=getblocknobytime&closest=before&apikey=I59W5KDGZ19SHUHAYDWBWXWU2BJE5AM7E7&timestamp=").concat(t),e.next=3,fetch(a);case 3:return r=e.sent,e.next=6,r.json();case 6:return"1"!==(i=e.sent).status&&alert("An error occurred. Please try again"),e.abrupt("return",parseInt(i.result));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t,n,a,r,i){return C.apply(this,arguments)}function C(){return(C=Object(l.a)(c.a.mark((function e(t,n,a,r,i,s){var u,o,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=[],o=[],d=i.exclude_guardians||R,e.t0=h.a,e.next=6,Object(k.getGuardians)(a,r);case 6:return e.t1=e.sent,e.t2=function(e){d.includes(e.address)||(u.push(e.address),o.push(!e.certified))},e.t0.forEach.call(e.t0,e.t1,e.t2),e.abrupt("return",S(u,n,o,t,i,s));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t,n,a,r,i){return B.apply(this,arguments)}function B(){return(B=Object(l.a)(c.a.mark((function e(t,n,a,r,i,s){var u,o,d,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h.a.isString(r)){e.next=6;break}return e.next=3,x[n](r);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=r;case 7:return u=e.t0,e.next=10,P(i,u,s);case 10:o=e.sent,d=[],l=0;case 13:if(!(l<t.length)){e.next=32;break}return e.prev=14,e.t1=d.push,e.t2=d,e.t3=f.a,e.next=20,G(t[l],a[l],u,o);case 20:e.t4=e.sent,e.t5=(0,e.t3)(e.t4),e.t1.apply.call(e.t1,e.t2,e.t5),e.next=29;break;case 25:e.prev=25,e.t6=e.catch(14),d.push({guardianAddress:t[l],rewards:[]}),console.log("Error while generating guardian ".concat(t[l],": ").concat(e.t6," ... (skipped)"));case 29:l++,e.next=13;break;case 32:return Q(o,d,i),e.abrupt("return",{details:o,participants:d});case 34:case"end":return e.stop()}}),e,null,[[14,25]])})))).apply(this,arguments)}function j(e,t){return D.apply(this,arguments)}function D(){return(D=Object(l.a)(c.a.mark((function e(t,n){var a,r,i,s,u,o,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.eth.getBlock("latest");case 2:a=e.sent,r=[],i=t.period_in_blocks||T,s=(t.periods||3)+(!0===t.show_only_full_periods?1:0),a.number,u=a.number-i+1>_.number?a.number-(a.number-_.number)%i:_.number;case 8:return e.next=10,n.eth.getBlock(u);case 10:o=e.sent,d=o.timestamp,r.push({number:u,time:d}),u=u-1-i+1;case 15:if(r.length<s&&u>=_.number){e.next=8;break}case 16:return e.abrupt("return",r);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t,n){return N.apply(this,arguments)}function N(){return(N=Object(l.a)(c.a.mark((function e(t,n,a){var r,i,s,u,o,d,l,p,y,m,b,f,w;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.eth.getBlock("latest");case 2:return r=e.sent,i=[],s=t.period_in_blocks||T,e.next=7,n.eth.getChainId();case 7:u=e.sent,o=[],d=r.number,l=0,p=Object(g.a)(a),e.prev=12,p.s();case 14:if((y=p.n()).done){e.next=31;break}if(m=y.value,137!==u){e.next=22;break}return e.next=19,M(m.time,u);case 19:e.t0=e.sent,e.next=23;break;case 22:e.t0=m.number;case 23:b=e.t0,i.push({start_block:b,start_block_time:0,end_block:d,end_block_time:0,length:d-b+1}),l+=d-b+1,o.push(n.eth.getBlock(b)),b=(d=b-1)-s+1;case 29:e.next=14;break;case 31:e.next=36;break;case 33:e.prev=33,e.t1=e.catch(12),p.e(e.t1);case 36:return e.prev=36,p.f(),e.finish(36);case 39:return e.next=41,Promise.all(o);case 41:for(f=e.sent,w=0;w<i.length;w++)i[w].end_block_time=Number(0===w?r.timestamp:f[w-1].timestamp-v[u]),i[w].start_block_time=Number(f[w].timestamp);return e.abrupt("return",{number_of_periods:i.length,total_length_of_periods:l,start_of_periods_block:i[i.length-1].start_block,end_of_periods_block:i[0].end_block,periods:i});case 44:case"end":return e.stop()}}),e,null,[[12,33,36,39]])})))).apply(this,arguments)}function G(e,t,n,a){return W.apply(this,arguments)}function W(){return(W=Object(l.a)(c.a.mark((function e(t,n,a,r){var i,s,u,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={read_from_block:r.start_of_periods_block-1e4},s=[],e.prev=2,e.next=5,Object(k.getGuardian)(t,a,i);case 5:u=e.sent,e.next=15;break;case 8:return e.prev=8,e.t0=e.catch(2),console.log("Error while generating guardian ".concat(t,": ").concat(e.t0.stack," ... (going to retry now)")),Z(1e3),e.next=14,Object(k.getGuardian)(t,a,i);case 14:u=e.sent;case 15:if(u.details.certified=!n,o=F(u,r.periods),s.push(z(u,"Total",o.allGuardianRewards)),s.push(z(u,"Self-Share (guardian + self-delegate)",o.guardianSelfRewards)),s.push(z(u,"Total Delegators",o.sumDelegatorRewards)),!n){e.next=23;break}return e.next=23,I(u,a,i,r.periods,s);case 23:return e.abrupt("return",s);case 24:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function F(e,t){for(var n=1/(1-e.reward_status.delegator_reward_share),a=e.reward_status.delegator_reward_share/(1-e.reward_status.delegator_reward_share),r=E(e.reward_as_guardian_slices,e.address,t),i=E(e.reward_as_delegator_slices,e.address,t),s=[],u=[],o=0;o<r.length;o++){var d=o<i.length?i[o]:0;s.push(r[o]+d),u.push(r[o]*a-d)}return{allGuardianRewards:h.a.map(r,(function(e){return e*n})),sumDelegatorRewards:u,guardianSelfRewards:s}}function E(e,t,n){for(var a=[],r=0,i=0,s=0;r<n.length&&s<e.length-1;s++)if(h.a.isUndefined(e[s].guardian_from)||e[s].guardian_from===t)if(e[s+1].block_number>=n[r].start_block)i+=e[s].total_awarded-e[s+1].total_awarded;else{var u=e[s].total_awarded-e[s+1].total_awarded,o=e[s].block_number-e[s+1].block_number,d=u*(e[s].block_number-n[r].start_block+1)/o;i+=d,a.push(i),i=u-d,r++}else e[s+1].block_number<=n[r].start_block&&(a.push(i),i=0,r++);r<n.length&&a.push(i);for(var l=a.length;l<n.length;l++)a.push(0);return a}function I(e,t,n,a,r){return L.apply(this,arguments)}function L(){return(L=Object(l.a)(c.a.mark((function e(t,n,a,r,i){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(t,t.delegators,!1,n,a,r,i);case 2:return e.next=4,U(t,t.delegators_left,!0,n,a,r,i);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e,t,n,a,r,i,s){return V.apply(this,arguments)}function V(){return(V=Object(l.a)(c.a.mark((function e(t,n,a,r,i,s,u){var o,d,l,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=Object(g.a)(n),e.prev=1,o.s();case 3:if((d=o.n()).done){e.next=22;break}return l=d.value,p=[],e.prev=6,e.t0=E,e.next=10,H(l.address,r,i);case 10:e.t1=e.sent,e.t2=t.address,e.t3=s,p=(0,e.t0)(e.t1,e.t2,e.t3),e.next=19;break;case 16:e.prev=16,e.t4=e.catch(6),console.log("Error while generating ".concat(a?"historical":""," delegator ").concat(l.address,": ").concat(e.t4.stack," ... (skipped)"));case 19:u.push(z(t,a?"Historical Delegator":"Delegator",p,l.address));case 20:e.next=3;break;case 22:e.next=27;break;case 24:e.prev=24,e.t5=e.catch(1),o.e(e.t5);case 27:return e.prev=27,o.f(),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[1,24,27,30],[6,16]])})))).apply(this,arguments)}function H(e,t,n){return q.apply(this,arguments)}function q(){return(q=Object(l.a)(c.a.mark((function e(t,n,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(k.getDelegatorStakingRewards)(t,n,a);case 3:case 12:return e.abrupt("return",e.sent.rewards);case 6:return e.prev=6,e.t0=e.catch(0),console.log("Error while generating delegator ".concat(t,": ").concat(e.t0.stack," ... (going to retry now)")),Z(1e3),e.next=12,Object(k.getDelegatorStakingRewards)(t,n,a);case 13:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function z(e,t,n,a){return{guardianAddress:e.address,guardianName:e.details.name,guardianCertified:e.details.certified,type:t,delegatorAddress:a,rewards:n}}function Q(e,t,n){var a=n.period_in_blocks||T;if(e.periods.length>1&&e.periods[0].length<a&&!0===n.show_only_full_periods){e.total_length_of_periods=e.total_length_of_periods-e.periods[0].length,e.periods.shift(),e.number_of_periods=e.number_of_periods-1,e.end_of_periods_block=e.periods[0].end_block;var r,i=Object(g.a)(t);try{for(i.s();!(r=i.n()).done;){r.value.rewards.shift()}}catch(s){i.e(s)}finally{i.f()}}}function Z(e){return new Promise((function(t){return setTimeout(t,e)}))}var J=n(419);function K(e){return X.apply(this,arguments)}function X(){return(X=Object(l.a)(c.a.mark((function e(t){var n,a,r,i,s,u,o,d,l,p,y,m,b,f,w,h,k,T,v;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=new J.Workbook,a=n.addWorksheet("Report",{views:[{state:"frozen",ySplit:3}]}),r=["","","","",""],i=["","","","",""],s=["Guardian Address","Guardian Name","Certified","Type","Delegaor Address"],u=[],o=t.details.number_of_periods-1;o>=0;o--)r.push("".concat(Y(t.details.periods[o].start_block_time)," to ").concat(Y(t.details.periods[o].end_block_time)," GMT")),i.push("".concat(t.details.periods[o].start_block," to ").concat(t.details.periods[o].end_block," (").concat(t.details.periods[o].length," blocks)")),s.push("Distributed (ORBS)"),u.push(0);a.addRows([r,i,s]),d=Object(g.a)(t.participants);try{for(d.s();!(l=d.n()).done;){if(p=l.value,y=[p.guardianAddress,p.guardianName,p.guardianCertified,p.type,p.delegatorAddress||""],0===p.rewards.length)y.push("Missing Data");else{for(m=p.rewards.length;m<t.details.number_of_periods;m++)y.push(0);for(b=p.rewards.length-1;b>=0;b--)y.push(p.rewards[b]),"Total"===p.type&&(u[t.details.number_of_periods-1-b]=u[t.details.number_of_periods-1-b]+p.rewards[b])}a.addRow(y)}}catch(c){d.e(c)}finally{d.f()}for(f=a.addRow(["","","","","Total Distributed:"].concat(u)),a.getColumn(1).width=42,a.getColumn(2).width=35,a.getColumn(3).width=8,a.getColumn(4).width=35,a.getColumn(5).width=42,w=0;w<t.details.number_of_periods;w++)a.getColumn(6+w).width=40;for(a.getRow(3).font={bold:!0},h=4;h<4+t.participants.length;h++)for("Total"===(k=a.getRow(h)).getCell(4).value?(k.font={bold:!0},k.border={top:{style:"thin"}},k.getCell(5).border={top:{style:"thin"},right:{style:"thin"}}):k.getCell(5).border={right:{style:"thin"}},T=6;T<6+t.details.number_of_periods;T++)k.getCell(T).numFmt="#,##0.00";for(f.font={bold:!0},f.getCell(1).border={top:{style:"thin"}},f.getCell(2).border={top:{style:"thin"}},f.getCell(3).border={top:{style:"thin"}},f.getCell(4).border={top:{style:"thin"}},f.getCell(5).border={top:{style:"thin"},right:{style:"thin"}},v=6;v<6+t.details.number_of_periods;v++)f.getCell(v).numFmt="#,##0.00",f.getCell(v).border={top:{style:"double"}};return e.abrupt("return",n.xlsx.writeBuffer());case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){var t=new Date(1e3*e).toISOString();return t.slice(0,10)+" "+t.slice(11,19)}var $=n(36),ee={ethereum:"https://mainnet.infura.io/v3/e0abafac3c8d46c3a9befb6e8b14abc9",polygon:"https://polygon-mainnet.g.alchemy.com/v2/c93z5UqYd5bR2paVR7PtUXhkVEIDIex0"},te={ethereum:["https://0xcore-management-direct.global.ssl.fastly.net/status"],polygon:["https://0xcore-matic-reader-direct.global.ssl.fastly.net/status"]},ne={Quarterly:{ethereum:"604800",polygon:"3435449"},Monthly:{ethereum:"199385",polygon:"1132565"},Weekly:{ethereum:"46525",polygon:"264265"}};function ae(e,t,n,a){return re.apply(this,arguments)}function re(){return(re=Object(l.a)(c.a.mark((function e(t,n,a,r){var i,s,u,o,d,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ee[n],s=te[n],u=te.ethereum,o={period_in_blocks:new Number(ne[t].ethereum).valueOf(),periods:new Number(a).valueOf(),show_only_full_periods:"true"===r},e.next=6,Object(k.getWeb3)(ee.ethereum);case 6:return d=e.sent,e.next=9,j(o,d);case 9:return l=e.sent,o.period_in_blocks=new Number(ne[t][n]).valueOf(),e.next=13,A(i,n,s,u,o,l);case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e,t){for(var n={details:e.details,participants:[]},a=e.participants.concat(t.participants),r=0;r<a.length-1;r++){for(var i=!1,s=function(e){if(a[r].guardianAddress===a[e].guardianAddress&&a[r].type===a[e].type&&(!["Delegator","Historical Delegator"].includes(a[r].type)||a[r].delegatorAddress===a[e].delegatorAddress)){i=!0;var t=a[r];return t.rewards=a[r].rewards.map((function(t,n){return t+a[e].rewards[n]})),n.participants.push(t),a.splice(e,1),"break"}},u=r+1;u<a.length;u++){if("break"===s(u))break}i||n.participants.push(a[r])}return n}function se(e,t){var n=window.URL.createObjectURL(new Blob([e])),a=document.createElement("a");a.href=n,a.setAttribute("download","".concat(t,".").concat((new Date).toISOString(),".xlsx")),a.setAttribute("type","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"),document.body.appendChild(a),a.click(),a.parentNode.removeChild(a)}var ue=[{key:"Quarterly",text:"Quarterly (91 days)",value:"Quarterly"},{key:"Monthly",text:"Monthly (30 days)",value:"Monthly"},{key:"Weekly",text:"Weekly (7 days)",value:"Weekly"}],oe=[{key:"All",text:"All",value:"all"},{key:"Ethereum",text:"Ethereum",value:"ethereum"},{key:"Polygon",text:"Polygon",value:"polygon"}];var de=function(){var e=Object(a.useState)({reportType:"Quarterly",networkType:"all",reportPeriods:"3",reportShowFull:"false",reportFilenamePrefix:"report"}),t=Object(d.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(!1),s=Object(d.a)(i,2),p=s[0],f=s[1],g=function(e,t){var a=t.name,i=t.value;return r(Object(o.a)(Object(o.a)({},n),{},Object(u.a)({},a,i)))},w=function(){var e=Object(l.a)(c.a.mark((function e(){var t,a,r,i,s,u,o,d,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.reportType,a=n.networkType,r=n.reportPeriods,i=n.reportShowFull,s=n.reportFilenamePrefix,f(!0),u=null,"all"!==a){e.next=13;break}return e.next=6,ae(t,"ethereum",r,i);case 6:return o=e.sent,e.next=9,ae(t,"polygon",r,i);case 9:d=e.sent,u=ie(o,d),e.next=16;break;case 13:return e.next=15,ae(t,a,r,i);case 15:u=e.sent;case 16:return l=["Total","Self-Share (guardian + self-delegate)","Total Delegators","Delegator","Historical Delegator"],u.participants.sort((function(e,t){return e.guardianAddress===t.guardianAddress?l.indexOf(e.type)-l.indexOf(t.type):e.guardianAddress>t.guardianAddress?1:-1})),e.next=20,K(u);case 20:se(e.sent,s),f(!1);case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object($.jsxs)("div",{className:"App",children:[Object($.jsx)("h2",{children:"Orbs Rewards Report Generator"}),Object($.jsx)("br",{}),Object($.jsx)(y.a,{textAlign:"left",children:Object($.jsx)(m.a,{textAlign:"left",secondary:!0,style:{width:"50vw",margin:"auto"},children:Object($.jsxs)(b.a,{loading:p,onSubmit:w,spellcheck:"false",children:[Object($.jsx)(b.a.Select,{label:"Network",name:"networkType",options:oe,defaultValue:"all",onChange:g}),Object($.jsx)(b.a.Select,{label:"Report Type",name:"reportType",options:ue,defaultValue:"Quarterly",onChange:g}),Object($.jsx)(b.a.Input,{label:"Number Of Report Periods",name:"reportPeriods",defaultValue:"3",onChange:g}),Object($.jsx)(b.a.Checkbox,{radio:!0,label:"Show Only Full Periods",name:"reportShowFull",value:"true",checked:"true"===n.reportShowFull,onChange:g}),Object($.jsx)(b.a.Checkbox,{radio:!0,label:"Show Last Partial Period",name:"reportShowFull",value:"false",checked:"false"===n.reportShowFull,onChange:g}),Object($.jsx)(b.a.Input,{label:"File Name Prefix",name:"reportFilenamePrefix",defaultValue:"report",onChange:g}),Object($.jsx)(b.a.Button,{primary:!0,children:"Submit"})]})})})]})};s.a.render(Object($.jsx)(r.a.StrictMode,{children:Object($.jsx)(de,{})}),document.getElementById("root"))},9:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return m})),n.d(t,"f",(function(){return b})),n.d(t,"e",(function(){return f}));var a=n(22),r=n.n(a),i=n(413),s=n.n(i),u=n(414),o=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{o(a.next(e))}catch(t){i(t)}}function u(e){try{o(a.throw(e))}catch(t){i(t)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}o((a=a.apply(e,t||[])).next())}))},d=function(e,t){var n,a,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,a=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(u){i=[6,u],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},l="1e18";function p(e){return e.dividedBy(l).toNumber()}function c(e){return o(this,void 0,void 0,(function(){var t=this;return d(this,(function(n){return[2,Object(u.retry)((function(){return o(t,void 0,void 0,(function(){var t,n,a,r;return d(this,(function(i){switch(i.label){case 0:return[4,s()(e,{timeout:5e3})];case 1:if(!(t=i.sent()).ok||!String(t.headers.get("content-type")).toLowerCase().includes("application/json"))return[3,6];i.label=2;case 2:return i.trys.push([2,4,,5]),[4,t.json()];case 3:if((n=i.sent()).error)throw new Error("Invalid response for url '"+e);return[2,n];case 4:throw i.sent(),new Error("Invalid response for url '"+e);case 5:return[3,8];case 6:return a=Error.bind,r="Invalid response for url '"+e+"': Status Code: "+t.status+", Content-Type: "+t.headers.get("content-type")+", Content: ",[4,t.text()];case 7:throw new(a.apply(Error,[void 0,r+i.sent()]));case 8:return[2]}}))}))}),{retries:3,delay:300})]}))}))}function y(e,t){var n=8*t;return(e&255<<n)>>n&255}function m(e){var t=Number(e);return y(t,3)+"."+y(t,2)+"."+y(t,1)+"."+y(t,0)}function b(e){var t,n,a;return{read_history:void 0===(null===(t=e)||void 0===t?void 0:t.read_history)||new Boolean(e.read_history).valueOf(),read_from_block:r.a.isNumber(null===(n=e)||void 0===n?void 0:n.read_from_block)?new Number(e.read_from_block).valueOf():0,read_rewards_disable:new Boolean(null===(a=e)||void 0===a?void 0:a.read_rewards_disable).valueOf()}}function f(e,t){return 0===e.read_from_block||-1===e.read_from_block?"Earliest Possible":e.read_from_block<0?t+e.read_from_block:e.read_from_block}}},[[821,1,2]]]);
//# sourceMappingURL=main.37fb9070.chunk.js.map